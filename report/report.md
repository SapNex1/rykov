---
# Front matter
title: 'Реферат по статье "Система обслуживания с ветвящимися потоками вторичных требований."'
subtitle: "Предмет: Теория случайных процессов"
author: "Александр Сергеевич Баклашов"

# Generic otions
lang: ru-RU
toc-title: "Содержание"

# Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

# References settings
linkReferences: true
nameInLink: true

# Pdf output format
toc: true # Table of contents
toc_depth: 2
#lof: true # List of figures
lot: false # List of tables
fontsize: 12pt
linestretch: 1.25
papersize: a4
documentclass: scrreprt
## I18n
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
### Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Misc options
indent: true
header-includes:
  - \linepenalty=10 # the penalty added to the badness of each line within a paragraph (no associated penalty node) Increasing the value makes tex try to have fewer lines in the paragraph.
  - \interlinepenalty=0 # value of the penalty (node) added after each line of a paragraph.
  - \hyphenpenalty=50 # the penalty for line breaking at an automatically inserted hyphen
  - \exhyphenpenalty=50 # the penalty for line breaking at an explicit hyphen
  - \binoppenalty=700 # the penalty for breaking a line at a binary operator
  - \relpenalty=500 # the penalty for breaking a line at a relation
  - \clubpenalty=150 # extra penalty for breaking after first line of a paragraph
  - \widowpenalty=150 # extra penalty for breaking before last line of a paragraph
  - \displaywidowpenalty=50 # extra penalty for breaking before last line before a display math
  - \brokenpenalty=100 # extra penalty for page breaking after a hyphenated line
  - \predisplaypenalty=10000 # penalty for breaking before a display
  - \postdisplaypenalty=0 # penalty for breaking after a display
  - \floatingpenalty = 20000 # penalty for splitting an insertion (can only be split footnote in standard LaTeX)
  - \raggedbottom # or \flushbottom
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Введение

При проектировании различных систем $-$ от автоматических систем управления (АСУ) до вычислительных систем, значительную роль играют приоритетные модели теории массового обслуживания. Среди таких систем можно выделить системы с различными динамическими ориентациями и режимами переключения, которые выделяются в контексте исследования моделей, включающих в себя несколько типов требований. В таких моделях разнообразие типов требований подразумевает необходимость применения соответствующих системных ориентаций и режимов переключения при их изменении. 

Помимо этого, в рассматриваемых системах стоит задача оптимизации приоритетного обслуживания, заключающаяся в разработке оптимальных стратегий обслуживания, которые могли бы обеспечить эффективное управление различными типами требований в системе.

В данной работе рассматривается задача определения оптимальной дисциплины обслуживания в системе с несколькими типами требований, имеющих различные приоритеты и поступающих как извне (первичных), так и в результате обслуживания (вторичных) и ветвящимися потоком вторичных требований. Модели такого типа становятся актуальными при исследовании работы ЭВМ в различных режимах, исследовании информационно-поисковых и других различных систем.

Приведем конкретные примеры, где такие системы становятся значимыми. Предположим, мы рассматриваем работу компьютера в пакетном режиме. В этом случае после начальной обработки пакета данных определяется количество программ в нем. Каждая программа может запросить разнообразные ресурсы, такие как вызов стандартных программ, доступ к оперативной памяти, или обращение к внешним устройствам для получения дополнительной информации.

Еще один пример связан с задачей поиска информации в массивах данных. После анализа некоторого массива можно обнаружить, что необходимая информация на самом деле содержится в одном из других массивов.

Эти примеры демонстрируют, насколько важным является эффективное управление разнообразными запросами и ресурсами в системах с ветвящимися потоками требований, исследование и оптимизация которых имеют непосредственное прикладное значение. Организация работы таких систем также включает оперативное определение приоритетов обслуживания требований. Данная работа демонстрирует, что относительно линейного функционала потерь оптимальной является именно приоритетная дисциплина, для которой приводится алгоритм её построения.

# Постановка задачи. Предположения

В работе "Система обслуживания с ветвящимися потоками вторичных требований" рассматривается однолинейная система обслуживания (система обслуживания (СО), в которой все поступающие заявки обслуживаются на одном приборе), выполняющая $r$ типов операций. Длительности выполнения отдельных операций являются независимыми случайными величинами (СВ) с функциями распределения (ФР) $\beta_i(·)$, при этом $\beta_i(0)=0$, имеющими первые два момента $b_i$, $b_{i2}$. Первичные
требования на выполнение операции типа $i$ образуют пуассоновский поток с интенсивностью $\lambda_i$, $\lambda_i ≥ 0$, $\overline{1,r}$. Помимо этого, имеют место случаи, в которых на некоторые,
но не на все операции первичных требований не поступает. В результате выполнения операции типа $i$ вызвавшее ее требование считается обслуженным, но с вероятностью $q_i(n)=q_i(n_1, ...,n_r)$ возникает набор $n = (n_i, ...,n_r)$ вторичных требований на выполнение операций различных типов, которые мгновенно поступают в очереди (неограниченные) для требований соответствующего типа.

Непосредственно вслед за этим по набору $l=(l_1, ..., l_r)$, где $l_i$ — число требований в $i$- й очереди, с помощью функции управления $u(l)$ выбирается очередное требование на обсуживание. При этом, если $u(l)=i$, то будет обслуживаться требование типа $i$.

Предполагается, что простои прибора при наличии требований не допускаются, т.е. любое требование, заставшее прибор свободным, немедленно начинает обслуживаться и, если $u(l)=i$, то $l_i>0$ (начинает обслуживаться требование типа $i$). В момент, когда система освобождается и нельзя направить требование на обслуживание, мы доопределяем $u(0)=0$.

Для описания поведения системы введём процесс $L(t) = (L_i(t),...,L_i(t))$,
где $L_i(t)$ — число требований типа $i$ в момент $t$.

Далее зададим $c_i$ — стоимость единицы времени пребывания в системе требования типа $r$. Задача заключается в определении функции управления, минимизирующей потери в единицу времени в стационарном режиме работы системы. При сделанных далее предположениях функционал, определяющий эти потери, записывается в виде 

\begin{equation} \label{eq_0}
J=\sum_{i=1}^{r}c_iL_i
\end{equation}

где $L_i$ — среднее число требований типа $i$ в системе в стационарном режиме.

Обозначим через $Q_i(z) =Q_i(z_1 ..., z_i)$ производящую функцию (ПФ) числа вторичных требований, возникающих в результате выполнения операции типа $i$:

$$Q_i(z)=\sum_{n≥0}q_i(n)z^n ≡ \sum_{n_1≥0,...,n_r≥0}q_i(n_1,...,n_r)z_1^{n_1}...z_r^{n_r}$$

Сделаем необходимые предположения для дальнейших действий:

## Предположение 1.

Первые два момента распределения числа вторичных требований конечны при всех $i$:

$q_{ij}= \frac{\partial}{\partial z_j} Q_i(z)|_{z=1}<\infty$ ; $q_{jk}^i=\frac{\partial^2}{\partial z_j\partial z_k} Q_i(z)|_{z=1}<\infty$

Из теории Фробениуса известно, что у матрицы $Q =||q_{ij}||$ с неотрицательными элементами существует единственное собственное значение 
$\xi > 0$ , такое, что модули всех остальных собственных значений не превосходят $\xi$.

## Предположение 2.

$\xi < 1$ ; таким образом, ветвящийся процесс вторичных требований вырождается с вероятностью 1.

Условимся далее считать, что в матричных операциях символы многокомпонентных величин обозначают векторы-столбцы, а символы со штрихом (транспонирование) — векторы-строки.

Положим $\lambda=(\lambda_1,..., \lambda_r )$ , $b= (b_1,...,b_r)$.

Докажем, что вектор $f=(I-Q)^{-1}b$ определен и имеет положительные компоненты $f>0$, где неравенство для векторов понимается в покомпонентном смысле, а $I$ обозначает единичную матрицу соответствующей смыслу формулы размерности.

Из приведённого предположения и сходимости ряда $1+x+x^2+...$ на спектре (наборе собственных векторов) матрицы $Q$ следует, что матрица $I-Q$ следует, что $I-Q$ обратима и справедливо представление:

$$(I-Q)^{-1}=I+Q+Q^2 + ...$$

Отсюда следует, что вектор $f=(I—Q)^{-1}b$ положителен (покомпонентно), если положителен $b$.

Неравенство для векторов понимается в покомпонентном смысле, а $I$ обозначает единичную матрицу соответствующей смыслу формулы размерности.

## Предположение 3.

$\rho < 1$, где, как мы докажем далее $\rho = \lambda ' f$ имеет смысл  загрузки системы.

Для того, чтобы доказать, что $\rho = \lambda ' f$ имеет смысл  загрузки системы, необходимо доказать эргодичность процесса $L(t)$. Докажем это:

Для доказательства эргодичности процесса L(t) ограничимся пока только точками регенерации типа 0 и воспользуемся теоремой Смита. Периодами регенерации в данном случае являются циклы занятости, которые, поскольку поток пуассоновский, имеют абсолютно непрерывную ФР. Очевидно, чтобы установить существование некоторых моментов цикла занятости, достаточно сделать это для периода занятости. В предположениях 1, 2, 3 справедливо следующее утверждение:

а) ПЛС ФР периода занятости, начинающегося единственным требованием типа $i$, удовлетворяет системе уравнений

\begin{equation} \label{eq_1}
\pi_i(s)=\beta_i(s+\sum_{j=1}^{r}\lambda_i[1-\pi_i(s)])Q_i[\pi _1(s),...,\pi _r(s)], i=\overline{1,r}
\end{equation}
б) вышеприведённая система имеет единственное решение $\pi_i(s), i=\overline{1,r}$ такое, что каждая из $\pi_i(s)$ представляет собой ПЛС собственных ФР.
Доказательство этих утверждений опускаем, так как п. а) доказывается достаточно просто, если воспользоваться методами работы [13], а доказательство п. б), напротив, громоздко.

Дифференцируя \eqref{eq_1} по $s$ и полагая $s=0$, получим уравнение для первых моментов $\pi_i$, $i=\overline{1,r}$. Известно, что вероятностный смысл имеет минимальное решение этого уравнения, поэтому достаточно доказать единственность его конечного решения. В предположении конечности уравнение приводится к виду $A\pi=b$. Отсюда в соответствии с приложением 1 следует $\pi=(1-\rho)^{-1}f$ С помощью двукратного дифференцирования системы выше и аналогичных рассуждений получаем для вектора вторых моментов $\pi_2=(\pi_{12},...,\pi_{r2})$ уравнение $A\pi_2=\varphi$, где

$$\varphi_i=(1+\lambda'\pi)^2b_{i2}+2(1+\lambda'\pi)b_i\sum_{j=1}^{r}q_{ij}\pi_j+\sum_{j,k=1}^{r}q_{kj}^i\pi_k\pi_j$$

Из доказанного вытекает существование двух первых моментов цикла занятости $\theta_1, \theta_2$ и эргодичность процесса $L(t)$. Для $\theta_1$ имеем выражение $\theta_1=\lambda_0^{-1}(1+\lambda'\pi)=[\lambda_0(1-\rho)]^{-1}$ из которого, применяя снова теорему Смита, имеем $P\{L(t)=0\}=1—\rho$, т.е. $\rho$ имеет смысл загрузки системы.

Матрица $Q$ может быть как неразложимой, так и разложимой, что в приложениях даже более естественно. Разложимую матрицу можно привести
к блочному виду.

## Предположение 4.

В каждом диагональном блоке матрицы $Q$ найдется такой индекс $i$, что $\lambda_i>0$. Это предположение обеспечивает возможность появления в системе требований всех типов.

# Основные соотношения
<!---

, то же самое имеет место для матрицы А. Действительно,

$$A=I—Q-b\lambda '=(I-Q) [I—(I—Q)^-ib\lambda'] = (I-Q) (I—f\lambda')$$

-->

Для вычисления вероятностных характеристик процесса $L(t)$ при всех: допустимых функциях управления удобно пользоваться аппаратом регенерирующих
процессов с несколькими типами точек регенерации. Действительно, если рассматривать процесс $L(t)$ в последовательные моменты $t_n, n= 1,2, ...$ окончания обслуживания требований, то его поведение после $t_n$ не зависит от его предшествующей траектории, а зависит лишь от состояния $L(t_n)$ в момент tn и значения функции переключения. Назовем $t_n$ моментом регенерации типа $i$, $i=\overline{0,r}$, если $u(L(t_n))=i$. В предложении 3 при доказательстве эргодичности процесса $L(t)$ показано, что при сделанных предположениях процесс является эргодическим при любом допустимом управлении. Это значит, что его стационарные характеристики не зависят от начального состояния. Положим $t_0=0$, $L(0)=0$ . Определим функции $H_0(t)$, $H_i(t,z)$ рядами:

\begin{subequations}
\label{eq_2}
\begin{align}
H_0(t) &= \sum_{n=0}^{\infty}P\{t_n<t, L(t_n)=0\} \\
H_i(t,z) &= z_i^{-1}\sum_{l:u(l)=i}z^l\sum_{0}^{\infty}P\{t_n\leq t, L(t_n)=l\}, i=\overline{1,r}
\end{align}
\end{subequations}

которые, очевидно, сходятся при всех t>0. Следующая теорема устанавливает
связь между введенными функциями и между ними и производящей функцией $L(t)$ в произвольный момент $t$:
$$P(t,z)=E\{z^{L(t)}\}=\sum_{l\geq0}z^lP\{L(t)=l\}$$

Обозначим через $p(s,z)$ преобразование Лапласа (ПЛ) функции $P(t,z)$ в точке $s$, а через $\chi_0(s)$ и $\chi_i(s, z)$ — преобразования Лапласа—Стилтьеса (ПЛС) соответственно функцией $H_0(t)$ и $H_i(t, z)$, $i=\overline{1,r}$.

*Теорема 1*. Справедливы соотношения

\begin{subequations}
\label{eq_3}
\begin{align}
p(s,z) &= \sum_{i=1}^{r} \left(\frac{\lambda_i}{s+\lambda_0}\chi_0(s)+\chi_i(s,z)\right)z_i\frac{1-\beta_i(s+\lambda_0-\lambda'z)}{s+\lambda_0-\lambda'z} \label{eq:equation1} \\
\chi_0(s)+\sum_{i=1}^{r} z_i\chi_i(s,z) &= \sum_{i=1}^{r} \left(\frac{\lambda_i}{s+\lambda_0}\chi_0(s)+\chi_i(s,z)\right) \times \beta_i(s+\lambda_0-\lambda'z)Q_i(z) \label{eq:equation2}
\end{align}
\end{subequations}

Здесь $\beta_i(·)$ $-$ ПЛС ФР $B_i(·)$, $\lambda_0=\lambda_1 +...+\lambda_r$. Существуют ненулевые пределы

$$\lim_{{s \to 0}} sp(s,z)=\lim_{{t \to \infty}}P(t,z) = P(z)$$

$$\lim_{{s \to 0}}s\chi_i(s,z)=\lim_{{t \to \infty}}\frac{1}{t}H_i(t,z)=\chi_i(z) =\sum_{k\geq0}h_i(k)z^k, i=\overline {0,r}$$

Доказательство:

Вывод \eqref{eq:equation1} и \eqref{eq:equation2} производится на основе вероятностной интерпретации производящих функций. При таком подходе каждое поступающее в систему требование $i-го$ типа независимо от остальных требований и от состояния системы называется красным с вероятностью $z_i$ и синим с вероятностью $1-z_i$. Для доказательства \eqref{eq:equation2} выпишем равенство:

$$dH_0(t)+\sum_{i=1}^{r}z_id_iH_i(t,z)=\sum_{i=1}^{r}\int^T_0{d_xH_i(x,z)dB_i(t-x)e^{-(t-x)(\lambda_0-\lambda'z)}}+$$

$$+\int^t_0{dH_0(x)}\sum_{i=1}^r\int^t-x_0{\lambda_ie^{-\lambda_0ydydB_i(t-x-y)Q_i(z)e^{-(t-x-y)(\lambda_0-\lambda'z)}}}$$

Слева в этом равенстве стоит вероятность того, что в момент регенерации, находящийся в бесконечно малой окрестности точки $t$, все требования в системе красные или их вовсе нет, справа $-$ вероятность того же события, найденная по формуле полной вероятности через вероятности событий, которые могли иметь место в предшествующий $t$ момент регенерации $x$ и на периоде регенерации.

Переходя к ПЛС, получаем \eqref{eq:equation2}. Аналогично получается \eqref{eq:equation1}. Существование пределов есть следствие эргодичности процесса $L(t)$, доказанного в утверждении 3, и вложенной по моментам регенерации
марковской цепи, а также абелевой теоремы, причём

$$\chi_i(z)=\lim_{{T \to \infty}} T^{-1}H_i(T,z), i=\overline{1,r}$$

$$P(z)=\lim_{{T \to \infty}} T^{-1}\int^T_0P(t,z)dt=\lim_{{T \to \infty}}P(t,z)$$

Доказательство завершено.

Предел $s\chi_0(s)$ при ${s \to 0}$ вычисляется непосредственно. Как известно из [10], $\chi_0(s)=[1-\theta(s)]^{-1}$ где $\theta(s)$ $-$ ПЛС ФР периода регенерации, который выражается через $\pi_i(s)$ $-$ ПЛС ФР периодов занятости, открывающихся требованием типа $i$, $i=\overline{1,r}$, в виде $\theta(s)=(s+\lambda_0)^{-1}[\lambda_1\pi_1(s)+...+\lambda_r\pi_r]$. Отсюда (см. предположение 3) интересующий нас предел $\chi_0=\lambda_0(1-\rho)$. С учетом этого видно, что \eqref{eq:equation1}, \eqref{eq:equation2} в пределе переходят соответственно в

\begin{subequations}
\label{eq_4}
\begin{align}
P(z) &= \sum_{i=1}^{r} [\lambda_i(1-\rho) + \chi_i(z)] \frac{1-\beta_i(\lambda_0-\lambda'z)}{\lambda_0-\lambda'z} \label{eq:equation3} \\
(1-\rho) \sum_{i=1}^{r} \lambda_i(z_i-1) &= \sum_{i=1}^{r} [z_i-b_i(z)][\lambda_i(1-\rho)+\chi_i(z)] \label{eq:equation4}
\end{align}
\end{subequations}

,где $b_i(z)=\beta_i(\lambda_0-\lambda'z)Q_z(z)$

Соотношения \eqref{eq:equation3}, \eqref{eq:equation4} позволяют получить все необходимые характеристики процесса $L(t)$ и сформулировать проблему оптимизации в виде задачи линейного программирования.


# Задача линейного программирования
Связь между функционалом \eqref{eq_0} и функцией управления $u(·)$ осуществляется путем введения переменных

$$x_{ij}=\frac{\partial}{\partial z_j}\chi_i(z)|_{z=1}=\sum_{l:u(l)=i}l_ih_i(l)$$

обладающих важным свойством: $x_{ij}=0$ тогда и только тогда, когда требования типа $j$ имеют приоритет перед требованиями типа $i$.

С помощью этих величин и соотношений \eqref{eq:equation3}, \eqref{eq:equation4} задача минимизации функционала \eqref{eq_0} сводится к задаче линейного программирования

\begin{equation} \label{eq_5}
J=\sum_{i,j=1}^{r}b_ic_ix_{ij}=>min
\end{equation}

при ограничениях

\begin{equation} \label{eq_6}
\sum_{i=1}^{r}(a_{ij}x_{ik}+a_{ik}x_{ij})=\gamma_{ik}, \;\;\;\;j,k=1,r
\end{equation}

Выведем формулы \eqref{eq_5} и \eqref{eq_6}.

Обозначим интенсивность выполнения операций типа $i$ $R_i=\lambda_i(1-\rho) +\chi_i(1)$. Учитывая, что $\frac{\partial}{\partial z_j}[z_i-b_i(z)]|_{z=1}=a_{ij}$, продифференцируем \eqref{eq:equation4} по $z_j$ в точке $z = 1$. Получим $A'R= (1—\rho)\lambda$. Повторяя рассуждения доказательства из предложения 2 для $A'$, находим $R=A'^{-1} \times (1-\rho)\lambda=(I-Q')\lambda$, который, как и следовало ожидать, не зависит от управления.

Путем двукратного дифференцирования равенства \eqref{eq:equation4} по $z_j$ и $z_k$ в точке $z = 1$, замечая, что

$$\frac{\partial^2}{\partial z_j \partial z_k}[z_i-b_i(z)]|_{z=1}=-(\lambda_j\lambda_kb_{i2}+\lambda_jb_iq_{ik}+\lambda_kb_iq_{ij}+q_{jk}^i)$$

получаем

$$\sum_{i=1}^r(a_{ij}x_{ik}+a_{ik}x_{ij})=\gamma_{jk}, \;\; 1\leq j, \;\; k\leq r,$$

где $\gamma_{jk}=\gamma{kj}>0,$

$$\gamma_{jk} = \sum_{i=1}^r(\lambda_j\lambda_kb_{i2}+\lambda_jb_iq_{ik}+\lambda_kb_iq_{ij}+q_{jk}^i)R_i$$

Формула \eqref{eq:equation3} позволяет выразить $L_i$ через переменные $x_{ij}$:

$$L_j=\frac{\partial}{\partial z_j}P(z)|_{z=1}=\sum_{i=1}^rb_ix_{ij}+\sum_{i=1}^rR_i(\lambda_jb_{i2})+b_i$$

Так как от управления зависит только первая сумма, то задача минимизации
функционала \eqref{eq_0} эквивалентна задаче минимизации функционала (который обозначим той же буквой $J$) \eqref{eq_5} при ограничениях \eqref{eq_6}.

Крайними точками множества, задаваемого ограничениями \eqref{eq_6}, являются матрицы $X=||x_{ij}||$, такие, что $x_{ii}>0$, $i=\overline{1,r}$ и одно из чисел $x_{ij}$, $x_{ji}$ при $i \ne j$ равно нулю, а другое $-$ положительно.

Действительно, из \eqref{eq_6} следует, что $x_{ij}+x_{ji}\geq\gamma_{ij}>0$, $i\ne j$, $x_{ii}\geq\gamma_{ii}/2>0$, а подсчет числа линейно-независимых ограничений показывает, что невырожденное базисное решение должно содержать $\frac{r(r-1)}{2}$ нулей. Среди матриц указанного вида выделяются такие, которые одновременной перестановкой строк и столбцов приводятся к треугольной форме. Эти матрицы соответствуют приоритетным дисциплинам обслуживания. У матриц, которые не обладают этим свойством, найдутся такие индексы $i_1, i_2,..., i_k$,
что $x_{i_2i_1}=0,...,x_{i_ki_{k-1}}=0, x_{i_1i_k}=0$. С учетом смысла переменных $x_{ij}$ ясно, что эти крайние точки вообще не соответствуют какой бы то ни было допустимой функции управления, так как с ненулевой вероятностью в системе в момент переключения могут оказаться требования типов $i_1, ..., i_k$ (и только они), и в этом случае никакое требование не может быть поставлено на обслуживание. Это значит, что множество \eqref{eq_6} содержит планы, не отвечающие допустимым функциям управления. Исключать недопустимые планы удобнее, обращаясь к двойственной задаче линейного программирования [6]. Одновременное исследование прямой и двойственной задач позволяет найти область значений параметров системы, в которой оптимальна заданная приоритетная дисциплина [11]. Исследование задачи линейного программирования, приведенное далее, показывает, что оптимальными планами задачи \eqref{eq_5}, \eqref{eq_6} могут быть лишь матрицы, приводимые к треугольной форме, соответствующие приоритетным дисциплинам обслуживания. Таким образом, справедлива.

*Теорема 2.* Существует оптимальное управление системой, которое осуществляется с помощью приоритетной дисциплины обслуживания.

## Исследование задачи линейного программирования

Введем, как предписывает алгоритм вывод формул \eqref{eq_5} и \eqref{eq_6}, приоритетную дисциплину. Перенумеруем индексы (чтобы избежать субиндексов): ${{i_k \to k}}$, так что $1 \succ ... \succ r$.Соответствующий план задачи \eqref{eq_5} и \eqref{eq_6} $X^*$ будет верхней треугольной матрицей. Двойственные \eqref{eq_6} ограничения с помощью симметричной матрицы $Y$ запишутся в виде $AY \leq bc'$, в чем нетрудно убедиться, выписывая функцию Лагранжа. Для того чтобы план $X^*$. был оптимальным в задаче \eqref{eq_5}, \eqref{eq_6}, в силу основной теоремы линейного программирования [15] необходимо и достаточно выполнения условий дополняющей нежёсткости. В данном случае это эквивалентно существованию решения системы уравнений - неравенств $AU \leq bc'$, $AU = bc'$, где равенства имеют место на главной диагонали и выше, а ниже главной диагонали - неравенства. Следовательно, задача сводится к тому, чтобы установить необходимые и достоточные условия разрешимости указанной системы. Запишем ее в развернутом виде:

\begin{subequations}
\label{eq_9}
\begin{align}
\sum_{i=1}^{k}a_i^ku_{ik}+ \sum_{i=k+1}^{r}a_i^ku_{ki} &= c_kb^k \label{eq:equation5} \\
\sum_{i=1}^{k}\overline{a}_i^ku_{ik} + \sum_{i=k+1}^{r}\overline{a}_i^ku_{ki} \leq c_kb^k \label{eq:equation6}
\end{align}
\end{subequations}

Здесь $a_i$ - $i$-й, столбец матрицы $А$, вектор $\omega^k(\overline{\omega}^k)$ размерности $k(r-k)$ получается из $r$-мерного вектора $\omega$ отбрасыванием $r-k$ последних ($k$ первых) компонент.

Покажем, что необходимым и достаточным условием разрешимости \eqref{eq_9} является система неравенств $c^m_{r-m}\geq 0, m=\overline{0,r-1}$. Легко видеть, что если приоритеты назначены в соответствии с алгоритмом вывода формул \eqref{eq_5} и \eqref{eq_6}, то это условие выполняется автоматически. Доказательство производится по индукции. По условию $c_k^0>0,k=\overline{1,r}$. Система \eqref{eq_9} при $k=r$ решается относительно вектора (столбца) $u_r=(u_{1r},...,u_{rr})$, $u_r= (1-\rho)^{-1}c_rf^r$. Выразим $a_r$ через компоненты вектора $f^r$ (см. доказательство из предположения 2):

$$a_r=(f_r^r)^{-1}[c_r^0b-(f_1^ra_1+...+f_{r-1}^ra_{r-1})]$$

и подставим это выражение в \eqref{eq_9}, $k=\overline{1,r-1}$. Введем новые переменные $u_{ij}^1=u_{ij}-(f_j^r/f^r_r)u_{ir}$, $i=\overline{1,r-1}$. Легко видеть, что $||u_{ij}^1||$ опять симметричная матрица.
В результате проведенного преобразования получим эквивалентную форму \eqref{eq_9}:

$$\sum_{i=1}^{k}a_i^ku_{ik}^1+ \sum_{i=k+1}^{r-1}a_i^ku_{ki}^1 = c_k^1b^k,$$

$$\sum_{i=1}^{k}\overline{a}_i^ku_{ik}^1 + \sum_{i=k+1}^{r-1}\overline{a}_i^ku_{ki}^1 \leq c_k^1b^k, \;\; k=\overline {1,r-1},$$

$$u_r=c_r^0(1-\rho_r)^{-1}f^r, \;\; c^0_r>0, \; c^1_j=c_j^0-(f_j^r/f_r^r)c_r^0, \; j=\overline{1,r-1}.$$

Предположим, что проделано $m$ аналогичных шагов, в результате которых система приняла вид

\begin{subequations}
\label{eq_10}
\begin{align}
\sum_{i=1}^{k}a_i^ku_{ik}^m+ \sum_{i=k+1}^{r-m}a_i^ku_{ki}^m &= c_k^mb^k \label{eq:equation7} \\
\sum_{i=1}^{k}\overline{a}_i^ku_{ik}^m + \sum_{i=k+1}^{r-m}\overline{a}_i^ku_{ki}^m \leq c_k\overline{b}^k, \; k=\overline {1,r-m}, \label{eq:equation8} \\
u_{r-j}=c_{r-j}^0(1-\rho_{r-j})^{-1}f^{r-j}, \;\; c^j_{r-j}\geq 0, \; j=\overline{0,m-1}. \label{eq:equation9}
\end{align}
\end{subequations}

(Смысл символа $A_j$ здесь тот же самый, что и $Q_j$.) Требуется доказать, что $c^m_{r-m} \geq 0$ и указать переход к эквивалентной форме \eqref{eq_10}, в которой в соотношения не входят элементы столбца $a_{r-m}$. В \eqref{eq_10} рассмотрим систему равенств при $k=r-m$. Очевидно $u_{r-m}=c_{r-m}^mA^{-1}_{r-m}b^{r-m}$. Так как $A^{-1}_{r-m}b^{r-m}>0$, а соответствующие элементы матрицы $А$ отрицательны, то подстановка $u_{r-m}$ в неравенства \eqref{eq_10} при $k=r-m$ показывает, что указанные неравенства выполняются тогда и только тогда, когда $c^m_{r-m} \geq 0$. Если $c^m_{r-m}=0$, то $a_{r-m}$ входит в систему (ибо $u_{r-m}=0$). Если же $c^m_{r-m}>0$, то из \eqref{eq_10} при $k=r-m$ имеем

$$\overline{a}^m_{r-m} \leq (u_{r-m \; r-m}^m)^{-1}(c^m_{r-m}\overline{b}^m-\sum_{i=1}^{r-m-1}\overline{a}_i^mu_{im}^n).$$

$$\overline{a}^m_{r-m} \leq (u_{r-m \; r-m}^m)^{-1}(c^m_{r-m}\overline{b}^m-\sum_{i=1}^{r-m-1}\overline{a}_i^mu_{im}^m).$$

Подставляя эти выражения в \eqref{eq_10} и полагая

$$u_{ij}^{m+1} = u_{ij}^m-(f_j^{r-m}/f^{r-m}_{r-m})u^m_{ir-m}, i=\overline{1, r-m-1}$$

преобразуем систему \eqref{eq_10} к виду

\begin{subequations}
\label{eq_11}
\begin{align}
\sum_{i=1}^{k}a_i^ku_{ik}^{m+1} + \sum_{i=k+1}^{r-m-1}a_i^ku_{ki}^{m+1} &= c_k^{m+1}b^k \label{eq:equation10} \\
\sum_{i=1}^{k}\overline{a}_i^ku_{ik}^{m+1} + \sum_{i=k+1}^{r-m-1}\overline{a}_i^ku_{ki}^{m+1} \leq c_k^{m+1}\overline{b}^k, \; k=\overline {1,r-m}, \label{eq:equation11} \\
u_{r-j}=c_{r-j}^j(1-\rho_{r-j})^{-1}f^{r-j}, \;\; c^j_{r-j}\geq 0, \; j=\overline{0,m}. \label{eq:equation12} \\
c_j^{m+1}=c_j^m-(f^{r-m}_j/f^{r-m}_{r-m})c^m_{r-m}, \; j=\overline{1,r-m-1} \label{eq:equation13}
\end{align}
\end{subequations}

где $||u_{ij}^{m+1}||$ - снова симметричная матрица, если такой же была по индуктивному предположению $||u_{ij}^{m}||$. Тем самым индуктивный шаг завершен и требуемое утверждение доказано. Очевидно, что последовательность $1 \succ ... \succ r$ обеспечивает выполнение
условия $c^m_{r-m} \geq 0, \; m=\overline{0,r-1}$.

# Алгоритм назначения приоритетов

В результате осуществления $r—1$ шага строится последовательность индексов $i_1,...,i_r$ следующим образом. На шаге $m, m=\overline{0, r—2}$ вычисляется вектор $f^{r-m}$ из уравнения

\begin{equation} \label{eq_7}
(I-Q_{r-m})f^{r-m}=b^{r-m}
\end{equation}

где $Q_{r-m}, b_{r-m}$ составлены из строк и столбцов (соответственно компонент) $Q$, $b$, индексы которых не совпадают с $i_r,..., i_{r-m+1}$ $-$ индексами, определенными на предыдущих шагах. Далее следует положить

\begin{equation} \label{eq_8}
c_i^m=c_i^{m-1}-\frac{f_i^{r-m+1}}{f_{i_{r-m+1}}^{r-m+1}}c^{m-1}_{i_{r-m+1}}, \; i\ne i_r,...,i_{r-m+1} \; (c^0_i=c_i)
\end{equation}
и выбрать индекс $i_{r-m}$ (если таких несколько, то любой из них) из условия $c^m_{i_{r-m}}/f_{i_{r-m}}^{r-m}\leq c_i^m/f_i^{r-m}, \; i\ne i_r,...,i_{r-m+1}$. Перейти на шаг $m+1$. Оптимальной будет дисциплина, при которой операция типа $i_j$ имеет преимущество перед;
операцией типа $i_k$, - если $j<k$, т.е. $i_1\succ...\succ i_r$. Заметим, что определение $i_1,...,i_r$ корректно, так как уравнения \eqref{eq_7} разрешимы и $f^m>0$, $m=\overline{0, r-2}$ (см. предположение 2).

# Обсуждение и примеры

В зависимости от вида матрицы $Q$ рассмотренная модель включает в себя многофазные системы и системы с обратной связью [7], в частности
решение задачи, поставленной в [12]. Рассмотрим примеры.

1. Пусть $Q=0$. На каждом шаге алгоритма имеем $f^m=b^m$ и условие оптимальности дисциплины $i_1\succ i_2\succ...\succ i_r$ имеет вид $b_{i1}/c_{i1} \geq ... \geq b_{ir/c_{ir}}$ что является хорошо известным результатом [5].

2. Проиллюстрируем действие алгоритма на модельном примере. Пусть
однопроцессорная система работает в пакетном режиме. Выделим 3 операции:
ввод пакета и его обработка (трансляция программ и подготовка
к счету); счет по каждой программе; выдача результатов счета. Допустим,
что средние продолжительности выполнения операций в условных единицах
$b_1=600, b_2=10, b_3=60$, среднее число программ в пакете — 10, и каждая
программа обращается к устройству ввода — вывода в среднем 1 раз.,
так что
$$ Q=
\left[
 \begin{matrix}
   0 & 10 & 0  \\
   0 & 0 & 1   \\
   0 & 0 & 0   \\
  \end{matrix} 
\right]
$$

Ясно, что только $\lambda_1>0$ и должно выполняться условие $1300\lambda_1<1 ( \rho < 1 ).$

Зададим весовые коэффициенты $с_i, i = l , 2 , 3$ , учитывающие значимость различных операций. В данном примере можно руководствоваться соображениями экономии оперативной памяти, считая, что задержка в обработке программ, находящихся в оперативной памяти, приносит большие потери, чем те, которые еще не введены, т.е. $с_1<с_2=с_3$ .Примем $с_2=с_3=10, c_1= 1.$ В рассматриваемом примере расчет по приведенному алгоритму потребует всего 2 шага. Оптимальной является приоритетная дисциплина $3 \succ 2 \succ 1$.

Следует учитывать, что, хотя условия оптимальности зависят только
от $b_i,c_i$ и $Q$, необходимо существование вторых моментов $b_{i2}$, $q^k_{ij}$ и выполнение условия $\rho<1$.

По предложенному в статье алгоритму разработана программа, которая подготовлена для передачи в фонд алгоритмов и программ по ТМО.

# Библиография

1. Python documentation. [Электронный ресурс]. М. URL: [Python documentation](https://docs.python.org/3/index.html) (Дата обращения: 28.09.2023).

2. Лабораторная работа №4. Вычисление НОД. - 4 с. [Электронный ресурс]. М. URL: [Лабораторная работа №4. Вычисление НОД.](https://esystem.rudn.ru/pluginfile.php/2089804/mod_folder/content/0/lab04.pdf) (Дата обращения: 19.10.2023).